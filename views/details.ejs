<%- include('includes/head', {
  pageTitle: article.title,
  pageStyle: 'details.css'
}) %>

<%- include('includes/navigation') %>

<div class="content-wrapper">
  <main class="main-content">
    <!-- Article Content -->
    <article class="article-content">
        <h1><%= article.title %></h1>
        <div class="article-meta">
            <span class="category"><%= article.category %></span>
            <span class="date"><%= new Date(article.date).toLocaleDateString() %></span>
        </div>
        <% if (article.image) { %>
            <img src="<%= article.image %>" alt="<%= article.title %>" class="article-image">
        <% } %>
        <div class="article-body">
            <%- article.content %>
        </div>
    </article>
  </main>

  <aside class="sidebar">
    <!-- Related Products Section -->
    <% if (suggestedProducts && suggestedProducts.length > 0) { %>
        <section class="related-products">
            <h2>RELATED ARTICLES</h2>
            <div class="products-list">
                <% suggestedProducts.forEach(product => { %>
                    <div class="product-card">
                        <% if (product.image) { %>
                            <img src="<%= product.image %>" alt="<%= product.title %>">
                        <% } %>
                        <div class="product-info">
                            <h3><%= product.title %></h3>
                            <p class="price">$<%= product.price %></p>
                            <a href="/products/<%= product._id %>" class="btn">View Details</a>
                        </div>
                    </div>
                <% }); %>
            </div>
        </section>
    <% } %>
  </aside>
</div>

<%- include('includes/end') %>